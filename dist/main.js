(()=>{"use strict";var n={compose:function(n){return function(r){return function(t){return n(r(t))}}}},r=function(n){return n.identity},t={identity:function(n){return n},Semigroupoid0:function(){return n}};var e=function(n){return n.map((r=void 0,function(n){return r}));var r},u=function(n){return n.pure},i=function(n){return n.discard},o=function(n){return n.bind},f={discard:function(n){return o(n)}},c=function(){var n={},r="Pure",t="Throw",e="Catch",u="Sync",i="Async",o="Bind",f="Bracket",c="Fork",l="Sequential",a="Map",s="Apply",h="Alt",_="Cons",w="Resume",v="Release",d="Finalizer",p="Finalized",m="Forked";function g(n,r,t,e){this.tag=n,this._1=r,this._2=t,this._3=e}function b(n){var r=function(r,t,e){return new g(n,r,t,e)};return r.tag=n,r}function k(n){return new g(r,void 0)}function y(n){try{n()}catch(n){setTimeout((function(){throw n}),0)}}function A(n,r,t){try{return r(t())}catch(r){return n(r)}}function E(n,r,t){try{return r(t)()}catch(r){return t(n(r))(),k}}var F=function(){var n=1024,r=0,t=0,e=new Array(n),u=!1;function i(){var i;for(u=!0;0!==r;)r--,i=e[t],e[t]=void 0,t=(t+1)%n,i();u=!1}return{isDraining:function(){return u},enqueue:function(o){var f;r===n&&(f=u,i(),u=f),e[(t+r)%n]=o,r++,u||i()}}}();function M(n,a,s){var h=0,m=0,b=s,k=null,L=null,S=null,R=null,T=null,C=0,q=0,B=null,I=!0;function N(s){for(var q,O,z;;)switch(q=null,O=null,z=null,m){case 2:m=1;try{b=S(b),null===R?S=null:(S=R._1,R=R._2)}catch(r){m=5,k=n.left(r),b=null}break;case 3:n.isLeft(b)?(m=5,k=b,b=null):null===S?m=5:(m=2,b=n.fromRight(b));break;case 1:switch(b.tag){case o:S&&(R=new g(_,S,R)),S=b._2,m=1,b=b._1;break;case r:null===S?(m=5,b=n.right(b._1)):(m=2,b=b._1);break;case u:m=3,b=A(n.left,n.right,b._1);break;case i:return m=4,void(b=E(n.left,b._1,(function(n){return function(){h===s&&(h++,F.enqueue((function(){h===s+1&&(m=3,b=n,N(h))})))}})));case t:m=5,k=n.left(b._1),b=null;break;case e:T=new g(_,b,null===S?T:new g(_,new g(w,S,R),T,L),L),S=null,R=null,m=1,b=b._1;break;case f:C++,T=new g(_,b,null===S?T:new g(_,new g(w,S,R),T,L),L),S=null,R=null,m=1,b=b._1;break;case c:m=3,q=M(n,a,b._2),a&&a.register(q),b._1&&q.run(),b=n.right(q);break;case l:m=1,b=P(n,a,b._1)}break;case 5:if(S=null,R=null,null===T)m=6,b=L||k||b;else switch(q=T._3,z=T._1,T=T._2,z.tag){case e:L&&L!==q&&0===C?m=5:k&&(m=1,b=z._2(n.fromLeft(k)),k=null);break;case w:L&&L!==q&&0===C||k?m=5:(S=z._1,R=z._2,m=2,b=n.fromRight(b));break;case f:C--,null===k&&(O=n.fromRight(b),T=new g(_,new g(v,z._2,O),T,q),(L===q||C>0)&&(m=1,b=z._3(O)));break;case v:T=new g(_,new g(p,b,k),T,L),m=1,b=L&&L!==q&&0===C?z._1.killed(n.fromLeft(L))(z._2):k?z._1.failed(n.fromLeft(k))(z._2):z._1.completed(n.fromRight(b))(z._2),k=null,C++;break;case d:C++,T=new g(_,new g(p,b,k),T,L),m=1,b=z._1;break;case p:C--,m=5,b=z._1,k=z._2}break;case 6:for(var D in B)B.hasOwnProperty(D)&&(I=I&&B[D].rethrow,y(B[D].handler(b)));return B=null,void(L&&k?setTimeout((function(){throw n.fromLeft(k)}),0):n.isLeft(b)&&I&&setTimeout((function(){if(I)throw n.fromLeft(b)}),0));case 0:m=1;break;case 4:return}}function O(n){return function(){if(6===m)return I=I&&n.rethrow,n.handler(b)(),function(){};var r=q++;return(B=B||{})[r]=n,function(){null!==B&&delete B[r]}}}return{kill:function(r,t){return function(){if(6===m)return t(n.right(void 0))(),function(){};var e=O({rethrow:!1,handler:function(){return t(n.right(void 0))}})();switch(m){case 0:L=n.left(r),m=6,b=L,N(h);break;case 4:null===L&&(L=n.left(r)),0===C&&(4===m&&(T=new g(_,new g(d,b(r)),T,L)),m=5,b=null,k=null,N(++h));break;default:null===L&&(L=n.left(r)),0===C&&(m=5,b=null,k=null)}return e}},join:function(n){return function(){var r=O({rethrow:!1,handler:n})();return 0===m&&N(h),r}},onComplete:O,isSuspended:function(){return 0===m},run:function(){0===m&&(F.isDraining()?N(h):F.enqueue((function(){N(h)})))}}}function L(r,t,e,u){var o=0,f={},c=0,l={},w=new Error("[ParAff] Early exit"),v=null,d=n;function p(t,e,u){var i,o,c=e,l=null,w=null,v=0,d={};n:for(;;)switch(i=null,c.tag){case m:if(c._3===n&&(i=f[c._1],d[v++]=i.kill(t,(function(n){return function(){0==--v&&u(n)()}}))),null===l)break n;c=l._2,null===w?l=null:(l=w._1,w=w._2);break;case a:c=c._2;break;case s:case h:l&&(w=new g(_,l,w)),l=c,c=c._1}if(0===v)u(r.right(void 0))();else for(o=0,i=v;o<i;o++)d[o]=d[o]();return d}function b(t,e,i){var o,f,_,d,m,g;for(r.isLeft(t)?(o=t,f=null):(f=t,o=null);;){if(_=null,d=null,m=null,g=null,null!==v)return;if(null===e)return void u(o||f)();if(e._3!==n)return;switch(e.tag){case a:null===o?(e._3=r.right(e._1(r.fromRight(f))),f=e._3):e._3=o;break;case s:if(_=e._1._3,d=e._2._3,o){if(e._3=o,m=!0,g=c++,l[g]=p(w,o===_?e._2:e._1,(function(){return function(){delete l[g],m?m=!1:null===i?b(o,null,null):b(o,i._1,i._2)}})),m)return void(m=!1)}else{if(_===n||d===n)return;f=r.right(r.fromRight(_)(r.fromRight(d))),e._3=f}break;case h:if(_=e._1._3,d=e._2._3,_===n&&r.isLeft(d)||d===n&&r.isLeft(_))return;if(_!==n&&r.isLeft(_)&&d!==n&&r.isLeft(d))o=f===_?d:_,f=null,e._3=o;else if(e._3=f,m=!0,g=c++,l[g]=p(w,f===_?e._2:e._1,(function(){return function(){delete l[g],m?m=!1:null===i?b(f,null,null):b(f,i._1,i._2)}})),m)return void(m=!1)}null===i?e=null:(e=i._1,i=i._2)}}function y(n){return function(r){return function(){delete f[n._1],n._3=r,b(r,n._2._1,n._2._2)}}}return function(){var u,i,c=1,l=e,w=null,v=null;n:for(;;)switch(u=null,i=null,c){case 1:switch(l.tag){case a:w&&(v=new g(_,w,v)),w=new g(a,l._1,n,n),l=l._2;break;case s:w&&(v=new g(_,w,v)),w=new g(s,n,l._2,n),l=l._1;break;case h:w&&(v=new g(_,w,v)),w=new g(h,n,l._2,n),l=l._1;break;default:i=o++,c=5,u=l,l=new g(m,i,new g(_,w,v),n),(u=M(r,t,u)).onComplete({rethrow:!1,handler:y(l)})(),f[i]=u,t&&t.register(u)}break;case 5:if(null===w)break n;w._1===n?(w._1=l,c=1,l=w._2,w._2=n):(w._2=l,l=w,null===v?w=null:(w=v._1,v=v._2))}for(d=l,i=0;i<o;i++)f[i].run()}(),function(n){return new g(i,(function(t){return function(){return function(n,t){var e;for(var u in v=r.left(n),l)if(l.hasOwnProperty(u))for(u in e=l[u])e.hasOwnProperty(u)&&e[u]();l=null;var o=p(n,d,t);return function(n){return new g(i,(function(n){return function(){for(var n in o)o.hasOwnProperty(n)&&o[n]();return k}}))}}(n,t)}}))}}function P(n,r,t){return new g(i,(function(e){return function(){return L(n,r,t,e)}}))}return g.EMPTY=n,g.Pure=b(r),g.Throw=b(t),g.Catch=b(e),g.Sync=b(u),g.Async=b(i),g.Bind=b(o),g.Bracket=b(f),g.Fork=b(c),g.Seq=b(l),g.ParMap=b(a),g.ParApply=b(s),g.ParAlt=b(h),g.Fiber=M,g.Supervisor=function(n){var r={},t=0,e=0;return{register:function(n){var u=t++;n.onComplete({rethrow:!0,handler:function(n){return function(){e--,delete r[u]}}})(),r[u]=n,e++},isEmpty:function(){return 0===e},killAll:function(i,o){return function(){if(0===e)return o();var f=0,c={};function l(t){c[t]=r[t].kill(i,(function(r){return function(){delete c[t],f--,n.isLeft(r)&&n.fromLeft(r)&&setTimeout((function(){throw n.fromLeft(r)}),0),0===f&&o()}}))()}for(var a in r)r.hasOwnProperty(a)&&(f++,l(a));return r={},t=0,e=0,function(n){return new g(u,(function(){for(var n in c)c.hasOwnProperty(n)&&c[n]()}))}}}}},g.Scheduler=F,g.nonCanceler=k,g}();const l=c.Pure;c.Throw;const a=c.Sync;c.Async,c.Seq;var s=function(n){var r=o(n.Bind1()),t=u(n.Applicative0());return function(n){return function(e){return r(n)((function(n){return r(e)((function(r){return t(n(r))}))}))}}};String.fromCharCode(65535),String.fromCharCode(0),Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY;const h=function(n){return function(r){return function(t){return function(e){return function(u){return e<u?n:e===u?r:t}}}}};var _={eq:function(n){return function(r){return n===r}}},w=function(){function n(){}return n.value=new n,n}(),v=function(){function n(){}return n.value=new n,n}(),d=function(){function n(){}return n.value=new n,n}(),p=function(){return{compare:h(w.value)(d.value)(v.value),Eq0:function(){return _}}}(),m=function(n){return n.top},g={top:2147483647,bottom:-2147483648,Ord0:function(){return p}},b=function(n){return n.bottom},k={show:function(n){return n.toString()}},y=function(n){return n.show},A=r(t),E=function(){function n(){}return n.value=new n,n}(),F=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),M=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),L=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),P=function(n,r,t){var e,u=0;return function(i){if(2===u)return e;if(1===u)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+i+")",r,i);return u=1,e=t(),u=2,e}},S={Applicative0:function(){return T},Bind1:function(){return R}},R={bind:function(n){return function(r){return function(){return r(n())()}}},Apply0:function(){return q(0)}},T={pure:function(n){return function(){return n}},Apply0:function(){return q(0)}},C=P("functorEffect","Effect",(function(){return{map:(n=T,r=n.Apply0().apply,t=u(n),function(n){return function(e){return r(t(n))(e)}})};var n,r,t})),q=P("applyEffect","Effect",(function(){return{apply:s(S),Functor0:function(){return C(0)}}})),B=C(20),I=function(n){return n.liftEffect};const N=function(n){throw new Error(n)};var O=function(){return N}(),z=function(n){return function(){return O(n)}()},D=function(n,r,t){var e,u=0;return function(i){if(2===u)return e;if(1===u)throw new ReferenceError(n+" was needed before it finished initializing (module "+r+", line "+i+")",r,i);return u=1,e=t(),u=2,e}},Y=e(B),x={map:function(n){return function(r){return r.tag===c.Pure.tag?c.Pure(n(r._1)):c.Bind(r,(function(r){return c.Pure(n(r))}))}}},V=function(){return{isLeft:function(n){if(n instanceof M)return!0;if(n instanceof L)return!1;throw new Error("Failed pattern match at Effect.Aff (line 402, column 12 - line 404, column 21): "+[n.constructor.name])},fromLeft:function(n){if(n instanceof M)return n.value0;if(n instanceof L)return z("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 407, column 20 - line 409, column 55): "+[n.constructor.name])},fromRight:function(n){if(n instanceof L)return n.value0;if(n instanceof M)return z("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 412, column 21 - line 414, column 54): "+[n.constructor.name])},left:M.create,right:L.create}}(),j=function(n){return function(){var r=function(n){return function(n,r){return function(){return c.Fiber(n,null,r)}}(V,n)}(n)();return r.run(),r}},G=function(n){return Y(j(n))},H={Applicative0:function(){return K},Bind1:function(){return J}},J={bind:function(n){return function(r){return c.Bind(n,r)}},Apply0:function(){return Q(0)}},K={pure:l,Apply0:function(){return Q(0)}},Q=D("applyAff","Effect.Aff",(function(){return{apply:s(H),Functor0:function(){return x}}})),U={liftEffect:a,Monad0:function(){return H}};const W=function(n){return function(){console.log(n)}};var X=u(K),Z=i(f)(J)(I(U)(W("Flow 1")))((function(){return X("Flow 1")}));const $=Math.random;isNaN;const nn=isFinite;Math.abs,Math.acos,Math.asin,Math.atan,Math.ceil,Math.cos,Math.exp;const rn=Math.floor;Math.log,Math.round,Math.sign&&Math.sign,Math.sin,Math.sqrt,Math.tan,Math.trunc&&Math.trunc;var tn=m(g),en=b(g),un=function(){return(n=F.create,function(r){return function(t){return(0|t)===t?n(t):r}})(E.value);var n}(),on=function(n){return nn(n)?n>=tn?tn:n<=en?en:(r=0,function(n){return function(t){if(t instanceof E)return r;if(t instanceof F)return n(t.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[r.constructor.name,n.constructor.name,t.constructor.name])}})(A)(un(n)):0;var r},fn=function(n){return function(r){return function(){var t=$();return on(rn((r-n+1)*t+n))}}},cn=I(U),ln=i(f)(J),an=y(k),sn=u(K),hn=o(J)(cn(fn(1)(1e5)))((function(n){return ln(cn(W("Flow 2"+an(n))))((function(){return sn(n)}))})),_n=u(K),wn=y(k),vn=o(J)(I(U)(fn(1)(1e5)))((function(n){return _n(wn(n))})),dn=i(f)(J),pn=I(U),mn=u(K),gn=o(J)(vn)((function(n){return dn(pn(W("Flow 3"+n)))((function(){return mn("Flow 3")}))})),bn=I(U),kn=o(J);G(i(f)(J)(bn(W("Starting App")))((function(){return kn(Z)((function(){return kn(hn)((function(){return kn(gn)((function(){return bn(W("Ending App"))}))}))}))})))()})();